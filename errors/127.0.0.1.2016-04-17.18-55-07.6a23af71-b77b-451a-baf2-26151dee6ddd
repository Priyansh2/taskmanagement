(dp1
S'output'
p2
S"<type 'exceptions.AttributeError'> 'Set' object has no attribute 'update_record'"
p3
sS'layer'
p4
S'/home/vaibhav/sucks/web2py/applications/login/controllers/default.py'
p5
sS'code'
p6
S'# -*- coding: utf-8 -*-\n#########################################################################\n## This is a sample controller\n## - index is the default action of any application\n## - user is required for authentication and authorization\n## - download is for downloading files uploaded in the db (does streaming)\n#########################################################################\n\ndef index():\n    if auth.is_logged_in():\n        response.flash = T("WELCOME")\n        redirect(URL(\'default\',\'home\'))\n    else:\n        redirect(URL(\'default\',\'start\'))\n\ndef start():\n    fregister=auth.register()\n    flogin=auth.login()\n    flpswd=auth.request_reset_password()\n    return locals()\n\ndef home():\n    if auth.is_logged_in():\n        if len(request.args):\n            page=int(request.args[0])\n        else: \n            page=0\n        items_per_page=5\n        limitby=((page)*items_per_page,(page+1)*items_per_page+1)\n        rows = db().select(db.project.ALL,limitby=limitby,orderby=~db.project.created_on)\n        return dict(form=FORM(INPUT(_id=\'keyword\',_name=\'keyword\',_onkeyup="ajax(\'callback\', [\'keyword\'], \'target\');")),target_div=DIV(_id=\'target\'),rows=rows,page=page,items_per_page=items_per_page)\n    else:\n        redirect(URL(\'default\',\'start\'))\n\ndef create_project():\n    db.task.created_by.readable=True\n    db.task.created_on.readable=True\n    form=SQLFORM(db.project).process()\n    if form.accepted:\n        redirect(URL(\'home\'))\n    return locals()\n\ndef main():\n    db.task.pid.default=request.args(0)\n    form=SQLFORM(db.task).process()\n    form.element(\'input[name=title]\')[\'_style\']=\'width:20em\'\n    form.element(\'textarea[name=description]\')[\'_style\']=\'width:20em;height:5em\'\n    form.element(\'input[name=duedat]\')[\'_style\']=\'width:20em\'\n    if form.accepted:\n        redirect(URL(\'main\',args=request.args(0)))\n    project=db.project(request.args(0,cast=int))\n    tasks=db((db.task.pid==project.id)).select(orderby=~db.task.created_on)\n    subtasks=db((db.checklist.pid==project.id)).select(orderby=~db.checklist.created_on)\n    i=0\n    return locals()\n\n\ndef task():\n    db.task.pid.default=request.args(0)\n    form=SQLFORM(db.task).process()\n    if form.accepted:\n        redirect(URL(\'main\',args=request.args(0)))\n    return locals()\n\ndef checklist():\n    db.checklist.pid.default=request.args(0)\n    db.checklist.tid.default=request.args(1)\n    form=SQLFORM(db.checklist).process()\n    if form.accepted:\n        redirect(URL(\'main\',args=request.args(0)))\n    return locals()\n\ndef changeitall():\n    vars=request.vars \n    db(db.checklist.id ==  vars.commid).delete()\n    return "deleted"\n\ndef done():\n    vars=request.vars \n    complete=db(db.checklist.id ==  vars.commid)\n    complete.update_record(status=1)\n    return "done"\n\ndef callback():\n    """an ajax callback that returns a <ul> of links to wiki pages"""\n    query = db.project.title.contains(request.vars.keyword)\n    pages = db(query).select(orderby=db.project.title)\n    links = [A(p.title, _href=URL(\'main\',args=p.id)) for p in pages]\n    return UL(*links)\n\n\n\n\n\n\nme=auth.user_id\n\n\ndef tm():\n    query=(db.tm.assigned_to==me) | (db.tm.created_by==me)\n    grid=SQLFORM.grid(query, orderby=~db.tm.modified_on,create=False,details=False,editable=False,deletable=lambda  row:(row.created_by==me))\n    return locals()\n\n\n\n\n\n\n\n\n\n\n\n\n\n\ndef product():\n    product=SQLFORM(db.product).process()\n    if product.accepted:\n        response.flash="Done"\n    return dict(product=product)\n\n\ndef login():\n    login=SQLFORM(db.auth_user)\n    return dict(form=login)\n\ndef user():\n    return dict(form=auth())\n\n\n@cache.action()\ndef download():\n    """\n    allows downloading of uploaded files\n    http://..../[app]/default/download/[filename]\n    """\n    return response.download(request, db)\n\n\ndef call():\n    """\n    exposes services. for example:\n    http://..../[app]/default/call/jsonrpc\n    decorate with @services.jsonrpc the functions to expose\n    supports xml, json, xmlrpc, jsonrpc, amfrpc, rss, csv\n    """\n    return service()\n\n\n\nresponse._vars=response._caller(done)\n'
p7
sS'snapshot'
p8
(dp9
sS'traceback'
p10
S'Traceback (most recent call last):\n  File "/home/vaibhav/sucks/web2py/gluon/restricted.py", line 227, in restricted\n    exec ccode in environment\n  File "/home/vaibhav/sucks/web2py/applications/login/controllers/default.py", line 152, in <module>\n  File "/home/vaibhav/sucks/web2py/gluon/globals.py", line 417, in <lambda>\n    self._caller = lambda f: f()\n  File "/home/vaibhav/sucks/web2py/applications/login/controllers/default.py", line 81, in done\n    complete.update_record(status=1)\nAttributeError: \'Set\' object has no attribute \'update_record\'\n'
p11
s.